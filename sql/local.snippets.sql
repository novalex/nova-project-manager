/*!40101 SET NAMES binary*/;
/*!40014 SET FOREIGN_KEY_CHECKS=0*/;
/*!40103 SET TIME_ZONE='+00:00' */;
INSERT INTO `snippets` VALUES
(1,"Migrate database when pushing or pulling","migrate-database-when-pushing-or-pulling",1,"# 1. Post-Checkout Hook\r\n```\r\n<!--#!/bin/sh\r\nMIGRATION_PATH = \"migrations\"\r\nOUTPUT = \"mysql --host=127.0.0.1 --user=root --password=dev123 --database=database\"\r\nif [ !-d \"$MIGRATION_PATH\" ]; then\r\n	echo \'DB-MIGRATION-HOOK: directory for migrations does not exist.\'\r\n	echo \'The path is configurable and is currently gitRoot/\'$MIGRATION_PATH\r\n	exit - 1\r\nfi\r\noldref = $1\r\nnewref = $2\r\nflag = $3\r\nif [ $flag - eq 0 ];\r\n	then exit 0\r\nfi\r\nfor ref in `git rev-list $newref..$oldref`;\r\n	do git show--pretty = oneline--name - only $ref | tail - n + 2 | grep ^ $MIGRATION_PATH | grep down.sql\\ $ | sort - r | while read file;\r\n		do echo \"--\"\"$file\"\r\n		git show $ref: \"$file\" | $OUTPUT\r\n	done\r\ndone\r\nfor ref in `git rev-list --reverse $oldref..$newref`;\r\ndo git show--pretty = oneline--name - only $ref | tail - n + 2 | grep ^ $MIGRATION_PATH | grep up.sql\\ $ | sort |\r\n	while read file;\r\n	do echo \"--\"\"$file\"\r\ngit show $ref: \"$file\" | $OUTPUT done done--></p><pre class=\"hljs-wrap\"><code class=\"hljs bash\"><span class=\"hljs-meta\"><span class=\"hljs-meta\"><span class=\"hljs-meta\"><span class=\"hljs-meta\">#!/bin/sh</span></span></span></span>\r\nMIGRATION_PATH = <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"migrations\"</span></span></span></span>\r\nOUTPUT = <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"mysql --host=127.0.0.1 --user=root --password=dev123 --database=database\"</span></span></span></span>\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">if</span></span></span></span> [ !-d <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\">$MIGRATION_PATH</span></span></span></span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span></span> ]; <span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">then</span></span></span></span>\r\n	<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">echo</span></span></span></span> <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\'DB-MIGRATION-HOOK: directory for migrations does not exist.\'</span></span></span></span>\r\n	<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">echo</span></span></span></span> <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\'The path is configurable and is currently gitRoot/\'</span></span></span></span><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$MIGRATION_PATH</span></span></span></span>\r\n	<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">exit</span></span></span></span> - 1\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">fi</span></span></span></span>\r\noldref = <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$1</span></span></span></span>\r\nnewref = <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$2</span></span></span></span>\r\nflag = <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$3</span></span></span></span>\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">if</span></span></span></span> [ <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$flag</span></span></span></span> - eq 0 ];\r\n	<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">then</span></span></span></span> <span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">exit</span></span></span></span> 0\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">fi</span></span></span></span>\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">for</span></span></span></span> ref <span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">in</span></span></span></span> `git rev-list <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$newref</span></span></span></span>..<span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$oldref</span></span></span></span>`;\r\n	<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">do</span></span></span></span> git show--pretty = oneline--name - only <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$ref</span></span></span></span> | tail - n + 2 | grep ^ <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$MIGRATION_PATH</span></span></span></span> | grep down.sql\\ $ | sort - r | <span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">while</span></span></span></span> <span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">read</span></span></span></span> file;\r\n		<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">do</span></span></span></span> <span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">echo</span></span></span></span> <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"--\"</span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\">$file</span></span></span></span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span></span>\r\n		git show <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$ref</span></span></span></span>: <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\">$file</span></span></span></span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span></span> | <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$OUTPUT</span></span></span></span>\r\n	<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">done</span></span></span></span>\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">done</span></span></span></span>\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">for</span></span></span></span> ref <span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">in</span></span></span></span> `git rev-list --reverse <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$oldref</span></span></span></span>..<span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$newref</span></span></span></span>`;\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">do</span></span></span></span> git show--pretty = oneline--name - only <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$ref</span></span></span></span> | tail - n + 2 | grep ^ <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$MIGRATION_PATH</span></span></span></span> | grep up.sql\\ $ | sort |\r\n	<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">while</span></span></span></span> <span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">read</span></span></span></span> file;\r\n	<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">do</span></span></span></span> <span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">echo</span></span></span></span> <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"--\"</span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\">$file</span></span></span></span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span></span>\r\ngit show <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$ref</span></span></span></span>: <span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\"><span class=\"hljs-string\"><span class=\"hljs-variable\">$file</span></span></span></span></span></span></span><span class=\"hljs-string\"><span class=\"hljs-string\"><span class=\"hljs-string\">\"</span></span></span></span> | <span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\"><span class=\"hljs-variable\">$OUTPUT</span></span></span></span> <span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">done</span></span></span></span> <span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">done</span></span></span></span></code></pre><small class=\"code-delimiter\">/code</small><br><p></p><pre></pre><h2>2. Post-Merge Hook</h2><p><small class=\"code-delimiter\">code</small><!--#!/bin/sh\r\nMIGRATION_PATH = \"migrations\"\r\nOUTPUT = \"mysql --host=127.0.0.1 --user=root --password=dev123 --database=database\"\r\nif [ !-d \"$MIGRATION_PATH\" ]; then\r\n	echo \'GIT-MIGRATION-HOOK: directory for migrations does not exist.\'\r\n	echo \'The path is configurable and is currently gitRoot/\'$MIGRATION_PATH\r\n	exit - 1\r\nfi\r\ngit cat - file - p HEAD | grep ^ parent | ( read type leftcommit read type rightcommit\r\n	if [ \"$rightcommit\" = \"\" ]; then\r\n		# Fast forward merge leftcommit = \"HEAD@{1}\"\r\n		rightcommit = \"HEAD\"\r\n	fi\r\n	for ref in `git rev-list --reverse $leftcommit..$rightcommit`;\r\n		do git show--pretty = oneline--name - only $ref | tail - n + 2 | grep ^ $MIGRATION_PATH | grep up.sql\\ $ | sort | while read file;\r\n			do echo \"--\"\"$file\"\r\n			git show $ref: \"$file\" | $OUTPUT\r\n		done\r\n	done\r\n)--></p><pre class=\"hljs-wrap\"><code class=\"hljs bash\"><span class=\"hljs-meta\">#!/bin/sh</span>\r\nMIGRATION_PATH = <span class=\"hljs-string\">\"migrations\"</span>\r\nOUTPUT = <span class=\"hljs-string\">\"mysql --host=127.0.0.1 --user=root --password=dev123 --database=database\"</span>\r\n<span class=\"hljs-keyword\">if</span> [ !-d <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$MIGRATION_PATH</span>\"</span> ]; <span class=\"hljs-keyword\">then</span>\r\n	<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\'GIT-MIGRATION-HOOK: directory for migrations does not exist.\'</span>\r\n	<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\'The path is configurable and is currently gitRoot/\'</span><span class=\"hljs-variable\">$MIGRATION_PATH</span>\r\n	<span class=\"hljs-built_in\">exit</span> - 1\r\n<span class=\"hljs-keyword\">fi</span>\r\ngit cat - file - p HEAD | grep ^ parent | ( <span class=\"hljs-built_in\">read</span> <span class=\"hljs-built_in\">type</span> leftcommit <span class=\"hljs-built_in\">read</span> <span class=\"hljs-built_in\">type</span> rightcommit\r\n	<span class=\"hljs-keyword\">if</span> [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$rightcommit</span>\"</span> = <span class=\"hljs-string\">\"\"</span> ]; <span class=\"hljs-keyword\">then</span>\r\n		<span class=\"hljs-comment\"># Fast forward merge leftcommit = \"HEAD@{1}\"</span>\r\n		rightcommit = <span class=\"hljs-string\">\"HEAD\"</span>\r\n	<span class=\"hljs-keyword\">fi</span>\r\n	<span class=\"hljs-keyword\">for</span> ref <span class=\"hljs-keyword\">in</span> `git rev-list --reverse <span class=\"hljs-variable\">$leftcommit</span>..<span class=\"hljs-variable\">$rightcommit</span>`;\r\n		<span class=\"hljs-keyword\">do</span> git show--pretty = oneline--name - only <span class=\"hljs-variable\">$ref</span> | tail - n + 2 | grep ^ <span class=\"hljs-variable\">$MIGRATION_PATH</span> | grep up.sql\\ $ | sort | <span class=\"hljs-keyword\">while</span> <span class=\"hljs-built_in\">read</span> file;\r\n			<span class=\"hljs-keyword\">do</span> <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"--\"</span><span class=\"hljs-string\">\"<span class=\"hljs-variable\">$file</span>\"</span>\r\n			git show <span class=\"hljs-variable\">$ref</span>: <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$file</span>\"</span> | <span class=\"hljs-variable\">$OUTPUT</span>\r\n		<span class=\"hljs-keyword\">done</span>\r\n	<span class=\"hljs-keyword\">done</span>\r\n)</code></pre>\r\n```","2017-10-28 17:02:31","2018-12-08 22:16:50"),
(2,"Uploads from production server","uploads-from-production-server",2,"**Add this to *.htaccess*:**\r\n```\r\n<IfModule mod_rewrite.c>\r\n	RewriteEngine on\r\n	\r\n	# Attempt to load files from production if\r\n	# they\'re not in our local version\r\n	RewriteCond %{REQUEST_FILENAME} !-d\r\n	RewriteCond %{REQUEST_FILENAME} !-f\r\n	RewriteRule wp-content/uploads/(.*) \\\r\n	http://{PROD}/wp-content/uploads/$1 [NC,L]\r\n</IfModule>\r\n```","2017-10-29 07:51:54","2018-12-09 00:24:47"),
(3,"Force HTTPS","force-https",2,"<p></p><pre><code><p>&lt;IfModule mod_rewrite.c&gt;</p><p>	RewriteEngine On</p><p>	RewriteCond %{SERVER_PORT} 80 </p><p>	RewriteRule ^(.*)$ https://www.yoursite.com/$1 [R,L]</p><p>&lt;/IfModule&gt;</p></code></pre><p></p>","2017-10-29 07:53:54","2017-11-03 19:46:45"),
(4,"Add page slug to body classes","add-page-slug-to-body-classes",2,"<p><small class=\"code-delimiter\">code</small><!--$page_id = ( is_shop() ) ? woocommerce_get_page_id(\'shop\') : get_the_ID();\r\n$page_slug = get_post_field( \'post_name\', $page_id );\r\nif ( ! empty($page_slug) &amp;&amp; ( is_single() || is_singular() ) ) $classes[] = $page_slug;--><pre class=\"hljs-wrap\"><code class=\"hljs\">$page_id = ( is_shop() ) ? woocommerce_get_page_id(\'shop\') : get_the_ID();\r\n$page_slug = get_post_field( \'post_name\', $page_id );\r\nif ( ! empty($page_slug) &amp;&amp; ( is_single() || is_singular() ) ) $classes[] = $page_slug;</code></pre><small class=\"code-delimiter\">/code</small><br></p>","2017-10-29 07:56:53","2017-11-04 10:06:41"),
(6,"Detailed Total field for Gravity Forms","detailed-total-field-for-gravity-forms",2,"<div>Load the class file, and enqueue the script.</div><p><br></p><div data-mce-style=\"box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: #fbfaf8; border: 1px solid rgba(0, 0, 0, 0.15);\"><div></div><small class=\"code-delimiter\">code</small><!--<div>require_once PLUGIN_PATH . \'/includes/class-WPR_GF_Field_Total.php\';</div><div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"><br></div></div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\">/**</div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"> * Enqueue script.</div><div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"> */</div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\">function wpr_frontend_enqueue() {</div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\">     wp_enqueue_script( \'wpr_gf_total\', PLUGIN_URI . \'js/wpr_gf_total.js\', array( \'jquery\', \'gform_gravityforms\' ), null, true );</div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\">}</div><div data-mce-style=\"font-family: gotham, helvetica, arial, sans-serif;\">add_action( \'wp_enqueue_scripts\', \'wpr_frontend_enqueue\' );</div></div>--><pre class=\"hljs-wrap\"><code class=\"hljs php\"><div><span class=\"hljs-keyword\">require_once</span> PLUGIN_PATH . <span class=\"hljs-string\">\'/includes/class-WPR_GF_Field_Total.php\'</span>;\r\n<div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"><br></div></div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"><span class=\"hljs-comment\">/**</span></div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"><span class=\"hljs-comment\"> * Enqueue script.\r\n</span><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"><span class=\"hljs-comment\"> */</span></div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">wpr_frontend_enqueue</span><span class=\"hljs-params\">()</span> </span>{</div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\">     wp_enqueue_script( <span class=\"hljs-string\">\'wpr_gf_total\'</span>, PLUGIN_URI . <span class=\"hljs-string\">\'js/wpr_gf_total.js\'</span>, <span class=\"hljs-keyword\">array</span>( <span class=\"hljs-string\">\'jquery\'</span>, <span class=\"hljs-string\">\'gform_gravityforms\'</span> ), <span class=\"hljs-keyword\">null</span>, <span class=\"hljs-keyword\">true</span> );</div><div data-mce-style=\"font-family: \'Helvetica Neue\', Arial, sans;\">}</div><div data-mce-style=\"font-family: gotham, helvetica, arial, sans-serif;\">add_action( <span class=\"hljs-string\">\'wp_enqueue_scripts\'</span>, <span class=\"hljs-string\">\'wpr_frontend_enqueue\'</span> );</div></div></code></pre><small class=\"code-delimiter\">/code</small><div><div data-mce-style=\"font-family: gotham, helvetica, arial, sans-serif;\"></div></div></div>","2018-06-26 10:54:28","2018-06-26 10:58:54"),
(7,"Create IMAP with SSL","create-imap-with-ssl",7,"<p>+ Headache üòÉ</p><p><br></p><p><b>Needed stuff</b></p><p>autoconf</p><p>openssl</p><p>imap2007 install with brew \"brew install imap-uw‚Äù</p><p>OR</p><p>download from https://www.mirrorservice.org/sites/ftp.cac.washington.edu/imap/ (the archive without Z at the end ) imap-2007e</p><p>ftp://ftp.cac.washington.edu/imap/</p><p>download map-2007e, unzip and run with terminal </p><p><small class=\"code-delimiter\"></small><small class=\"code-delimiter\">code</small><!--make osx EXTRACFLAGS=\"-arch i386 -arch x86_64 -g -Os -pipe -no-cpp-precomp‚Äù--><pre class=\"hljs-wrap\"><code class=\"hljs\">make osx EXTRACFLAGS=\"-arch i386 -arch x86_64 -g -Os -pipe -no-cpp-precomp‚Äù</code></pre><small class=\"code-delimiter\">/code</small></p><p>it will create a folder c-client and might give a few warning, if it‚Äôs not fatal error, go on</p><p>use the following commands after running the command and the folder c-client is created</p><p></p><small class=\"code-delimiter\">code</small><!--<p>sudo mkdir -p /usr/local/include</p><p>sudo cp c-client/*.h /usr/local/include/</p><p>sudo mkdir /usr/local/lib</p><p>sudo cp c-client/*.c /usr/local/lib/</p><p>sudo cp c-client/c-client.a /usr/local/lib/libc-client.a</p>--><pre class=\"hljs-wrap\"><code class=\"hljs bash\"><p>sudo mkdir -p /usr/<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">local</span></span></span></span>/include\r\nsudo cp c-client/*.h /usr/<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">local</span></span></span></span>/include/\r\nsudo mkdir /usr/<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">local</span></span></span></span>/lib\r\nsudo cp c-client/*.c /usr/<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">local</span></span></span></span>/lib/\r\nsudo cp c-client/c-client.a /usr/<span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\"><span class=\"hljs-built_in\">local</span></span></span></span>/lib/libc-client.a</p></code></pre><small class=\"code-delimiter\">/code</small><p></p><p>Now, download the version of PHP you require ( the one you use in MAMP )</p><p>http://php.net/releases/</p><p>- go to /Applications/MAMP/bin/php/<your_php_version> and create the folders /include/php/</p><p>- extract the php files there</p><p>- open terminal in that folder and run</p><p></p><small class=\"code-delimiter\">code</small><!--<p>./configure</p><p>cd ext/imap</p><p>phpize</p><p>./configure --with-imap=/usr/local/imap-2007 --with-kerberos --with-imap-ssl=/usr/</p><p>make</p><p>if</p><p>./configure --with-imap=/usr/local/imap-2007 --with-kerberos --with-imap-ssl=/usr/ fails</p>--><pre class=\"hljs-wrap\"><code class=\"hljs javascript\"><p>./configure\r\ncd ext/imap\r\nphpize\r\n./configure --<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">with</span></span></span>-imap=<span class=\"hljs-regexp\"><span class=\"hljs-regexp\"><span class=\"hljs-regexp\">/usr/</span></span></span>local/imap<span class=\"hljs-number\"><span class=\"hljs-number\"><span class=\"hljs-number\">-2007</span></span></span> --<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">with</span></span></span>-kerberos --<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">with</span></span></span>-imap-ssl=<span class=\"hljs-regexp\"><span class=\"hljs-regexp\"><span class=\"hljs-regexp\">/usr/</span></span></span>\r\nmake\r\n<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">if</span></span></span>\r\n./configure --<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">with</span></span></span>-imap=<span class=\"hljs-regexp\"><span class=\"hljs-regexp\"><span class=\"hljs-regexp\">/usr/</span></span></span>local/imap<span class=\"hljs-number\"><span class=\"hljs-number\"><span class=\"hljs-number\">-2007</span></span></span> --<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">with</span></span></span>-kerberos --<span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\">with</span></span></span>-imap-ssl=<span class=\"hljs-regexp\"><span class=\"hljs-regexp\"><span class=\"hljs-regexp\">/usr/</span></span></span> fails</p></code></pre><small class=\"code-delimiter\">/code</small><p></p><p>TRY</p><p>imap-2007f = depends on which one you installed</p><p>/Applications/MAMP/bin/php/php5.5.26/bin/php-config path to your php from MAMP for which you need the map with SSL</p><p>env LDFLAGS=\"-lssl -lcrypto\" ./configure --with-imap=/usr/local/imap-2007f --with-kerberos --with-imap-ssl --with-php-config=/Applications/MAMP/bin/php/php5.5.26/bin/php-config</p><p>if needed for --with-imap-ssl do --with-imap-ssl=/path_to_folder_that_contains evp.h file</p><p>If your prayers have been answered, go to the extracted php files, go to folder ext/imap/modules/ and copy map.so and map.la to </p><p>/Applications/MAMP/bin/php/YOUR_PHP_VERSION/lib/php/extensions/no-debug-non-zts-20100525/</p><p>Tutorial that don‚Äôt work from start to end, but have useful information</p><p>http://www.bartvanasselt.nl/mamp-pro-using-imap-with-ssl/</p><p>http://www.firewing1.com/blog/2013/05/13/compiling-imap-extension-php-5315-os-x-1083</p><p>http://blog.tatedavies.com/2012/12/17/compile-php_imap-and-mssql-for-php-on-mac/</p><p>https://github.com/tedivm/PHP_IMAP_Installer</p><p>This was address further up. Simply swap out-</p><p><small class=\"code-delimiter\">code</small><!--./configure --with-imap=/usr/local/imap-2007f --with-kerberos --with-imap-ssl--><pre class=\"hljs-wrap\"><code class=\"hljs\">./configure --with-imap=/usr/local/imap-2007f --with-kerberos --with-imap-ssl</code></pre><small class=\"code-delimiter\">/code</small></p><p>With-</p><p><small class=\"code-delimiter\">code</small><!--LDFLAGS=\"-lssl -lcrypto\" ./configure --with-imap=/usr/local/imap-2007f --with-kerberos --with-imap-ssl--><pre class=\"hljs-wrap\"><code class=\"hljs javascript\">LDFLAGS=<span class=\"hljs-string\">\"-lssl -lcrypto\"</span> ./configure --<span class=\"hljs-keyword\">with</span>-imap=<span class=\"hljs-regexp\">/usr/</span>local/imap<span class=\"hljs-number\">-2007</span>f --<span class=\"hljs-keyword\">with</span>-kerberos --<span class=\"hljs-keyword\">with</span>-imap-ssl</code></pre><small class=\"code-delimiter\">/code</small></p>","2018-06-26 11:26:06","2018-12-08 22:49:22");
